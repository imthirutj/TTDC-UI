<button (click)="downloadPDF()" class="btn btn-primary">
    Download as PDF
  </button>
  
  <div id="invoice-component" class="container invoice-component">
    <div class="page-1">
        <div class="container-1">
            <div class="header-row">
                <div>
                    <p>GSTIN: {{this.vendorDetails.gstin}}</p>
                    <p>PAN: {{this.vendorDetails.panNo}}</p>
                </div>
                <div>
                    <p>UNIT: {{this.vendorInvoiceDetails.company.companyFName}}</p>
                    <p>PHONE NO: {{this.vendorDetails.contactNo}}</p>
                    <p>E-MAIL ID: {{this.vendorDetails.emailId}}</p>
                </div>
            </div>
            <div class="main-section">
                <span class="logo">{{this.vendorDetails.vendorName}}</span>
                <p class="subtitle">Sales & Service</p>
                <p class="subtitle">
                    UPS, BATTERY, A/C, INTERIOR, ALL ELECTRICAL & DATA CABLE NETWORK
                </p>
                <div class="line"></div>
                <p class="address">
                   {{this.vendorDetails.address}}
                </p>
            </div>

        </div>

        <div class="container-1 my-5">
            <div class="invoice-border">
                <div class="text-center mb-3">
                    <h4>Invoice</h4>
                </div>
                <div class="box">
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <strong>{{month | monthName}} Month Promo Bill</strong>
                        </div>
                        <div class="col-md-6 text-end">
                            <strong>Date:</strong>{{this.vendorDetails.updateDate}}<br>
                            <strong>Invoice No:</strong> {{this.vendorDetails.invoiceNo}}
                        </div>
                    </div>
                </div>
                <!-- Content Section -->
                <div class="row box">
                    <div class="col-6 p-3 invoice-section">
                        <strong>Bill To:</strong>
                        <p>The Manager - Information Technology<br>
                            Tamil Nadu Tourism Development Corporation LTD<br>
                            Tamil Nadu Tourism Complex<br>
                            No. 2, Wallajah Road<br>
                            Chennai - 600 002.<br>
                            GST No: 33AAACT3451HZL<br>
                            Ref: 2241/IT/2021, dt: 25.04.2021</p>
                    </div>
                    <div class="col-6 p-3">
                        <strong>Payment Terms:</strong> Immediate<br>
                        <strong>Bank Account Details for Payment:</strong><br>
                        <strong>Vendor Name: </strong>{{vendorDetails.vendorName }}<br>
                        <strong>Account Number </strong>:  {{vendorDetails.bankAccountNo}}<br>
                        <strong>Bank Name & Branch </strong>: {{vendorDetails.bankName}}<br>
                        <strong>IFSC Code</strong>: {{vendorDetails.bankIFSC}}
                    </div>
                </div>
            </div>

            <table class="invoice-table mt-4">
                <thead>
                    <tr>
                        <th>S. No</th>
                        <th>DESCRIPTION</th>
                        <th>No. of Persons</th>
                        <th>Total Wages</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td></td>
                        <td>SAC998519<br>Manpower Supply for the Month of {{month | monthName}} {{year}}<br>TTDC</td>
                        <td></td>
                        <td></td>
                    </tr>
                    <tr
                        *ngFor="let invoiceRecords of vendorInvoiceDetails.cumulativeInvoice.invoiceRecords; let i = index">
                        <td>{{i+1}}</td>
                        <td>{{invoiceRecords.designationName}}</td>
                        <td>{{invoiceRecords.employeeCount}}</td>
                        <td>{{(invoiceRecords.totalWages -invoiceRecords.totalServiceCharges) | currency:'INR'}}</td>
                    </tr>

                    <tr>
                        <td colspan="2">Sub Total</td>
                        <td>{{vendorInvoiceDetails.cumulativeInvoice.subTotalEmpcount}}</td>
                        <td>{{vendorInvoiceDetails.cumulativeInvoice.totalWages-
                                vendorInvoiceDetails.cumulativeInvoice.serviceCharge  | currency:'INR'}}</td>
                    </tr>

                    <tr>
                        <td colspan="3" class="text-end">Service Charges</td>
                        <td>{{vendorInvoiceDetails.cumulativeInvoice.serviceCharge  | currency:'INR'}}</td>
                    </tr>

                    
                    <tr *ngIf="false">
                        <td colspan="3" class="text-end">Total Salary With Service Charges</td>
                        <td>{{vendorInvoiceDetails.cumulativeInvoice.totalSalWithCharges | currency:'INR'}}</td>
                    </tr>
                    <tr *ngIf="false">
                        <td colspan="3" class="text-end">Service Charges</td>
                        <td>{{vendorInvoiceDetails.cumulativeInvoice.serviceCharge | currency:'INR'}}</td>
                    </tr>
                    <tr>
                        <td colspan="3" class="text-end">GST &#64;18%</td>
                        <td>{{vendorInvoiceDetails.cumulativeInvoice.gst | currency:'INR'}}</td>
                    </tr>
                    <tr>
                        <td colspan="3" class="text-end">TDS&#64;2%</td>
                        <td>{{vendorInvoiceDetails.cumulativeInvoice.tds | currency:'INR'}}</td>
                    </tr>
                    <tr>
                        <td colspan="3" class="text-end">Total Amount</td>
                        <td>{{vendorInvoiceDetails.cumulativeInvoice.totalAmount | currency:'INR'}}</td>
                    </tr>
                </tbody>
            </table>
            <div class="mt-3">
                <strong>Rupees in Words:</strong> {{vendorInvoiceDetails.cumulativeInvoice.rupeesInWords}}
            </div>
            <div class="mt-3">
                <strong>For {{this.vendorDetails.vendorName}}</strong>
                <br>
                R.Selvakumar
            </div>
        </div>

    </div>

    <div *ngIf="false" class="page-2">
        <div class="container mt-4">
            <h3 class="text-center"></h3>

            <table class="invoice-table mt-4">
                <thead>
                    <tr>
                        <th colspan="9">TTDC - {{month | monthName}} {{year}}</th>
                        <th colspan="1">TTDC2024000041</th>
                    </tr>
                  <tr>
                    <th>S.N</th>
                    <th>Name of the Employee</th>
                    <th>Location</th>
                    <th>Designation</th>
                    <th>No. of Days Worked</th>
                    <th>Month Days</th>
                    <th>Gross Salary</th>
                    <th>Empir PF</th>
                    <th>Empir ESI</th>
                    <th>Net Salary</th>
                  </tr>
                </thead>
                <tbody>
                  <!-- Loop through invoiceDetail to show designation and employee details -->
                  <ng-container *ngFor="let invDetail of vendorInvoiceDetails.invoiceDetail; let designationIndex = index">
                    <!-- Designation Row -->
                    <tr *ngIf=" invDetail.employeeInvoices.length >0">
                      <td colspan="10" class="designation-row"><strong>{{invDetail.designationName}}</strong></td>
                    </tr>
              
                    <!-- Loop through employeeInvoices to show employee details -->
                    <ng-container *ngFor="let empInvoiceDetail of invDetail.employeeInvoices; let empIndex = index">
                      <!-- Display continuous index across designations -->
                      <tr>
                        <td>{{empIndex+1}}</td>
                        <td>{{empInvoiceDetail.employeeName}}</td>
                        <td>Chennai</td>
                        <td>{{invDetail.designationName}}</td>
                        <td>{{empInvoiceDetail.presentDays}}</td>
                        <td>{{empInvoiceDetail.monthDays}}</td>
                        <td>{{empInvoiceDetail.grossSalary  | currency:'INR'}}</td>
                        <td>{{empInvoiceDetail.epf  | currency:'INR'}}</td>
                        <td>{{empInvoiceDetail.esi  | currency:'INR'}}</td>
                        <td>{{empInvoiceDetail.netAmount | currency:'INR'}}</td>
                      </tr>
                    </ng-container>
                  </ng-container>

                  <tr>
                    <td colspan="4"><strong>Total</strong></td>
                    <td>{{totals.totalPresentDays}}</td>
                    <td>{{totals.totalMonthDays}}</td> 
                    <td>{{totals.totalGrossSalary | currency:'INR' }}</td>
                    <td>{{totals.totalEPF | currency:'INR' }}</td> <!-- Add any other columns you need -->
                    <td>{{totals.totalESI | currency:'INR'}}</td> <!-- Same as above for Empir PF and Empir ESI if required -->
                    <td>{{totals.totalNetAmount | currency:'INR'}}</td>
                  </tr>
                </tbody>
              </table>
              
              
        </div>
    </div>
</div>